<%= content_for :title do %>
  Food Log Archive
<% end %>

<div class="flex flex-col w-full items-center">
  <div class="flex flex-col">
    <% @entries.each do |day, entries| %>
      <div class="flex flex-col pb-8">
        <h3 class="font-semibold self-center text-lg pb-4 lg:text-2xl">
          Entries for
          <%= day %>
        </h3>

        <div class="flex justify-between pb-2">
          <div class="flex flex-col items-center">
            <p class="font-semibold text-xs text-gray-400 tracking-wide">CALORIES</p>
            <p class="text-lg font-semibold lg:text-2xl">
              <%= entries.pluck(:calories).sum %>
          </div>
          <div class="flex flex-col items-center">
            <p class="font-semibold text-xs text-gray-400 tracking-wide">PROTEIN</p>
            <p class="text-lg font-semibold lg:text-2xl">
              <%= entries.pluck(:protein).sum %>g
          </div>
          <div class="flex flex-col items-center">
            <p class="font-semibold text-xs text-gray-400 tracking-wide">CARBS</p>
            <p class="text-lg font-semibold lg:text-2xl">
              <%= entries.pluck(:carbohydrates).sum %>g
          </div>
          <div class="flex flex-col items-center">
            <p class="font-semibold text-xs text-gray-400 tracking-wide">FATS</p>
            <p class="text-lg font-semibold lg:text-2xl">
              <%= entries.pluck(:fats).sum %>g
          </div>
        </div>
      
        <% entries.each do |entry| %>
          <%= link_to entry_path(entry) do %>
            <div class="flex flex-col bg-slate-100 p-4 mb-6 shadow-lg rounded-lg hover:bg-blue-200">
              <strong>
                <%= entry.meal_type %>
              </strong>
              <%= entry.calories %> calorie(s),
              <%= entry.protein %>g protein,
              <%= entry.carbohydrates %>g carb(s),
              <%= entry.fats %>g fat
            </div>
          <% end %>
        <% end %>
      </div>
    <% end %>
  </div>

  <div class="">
    <%= link_to "Back to entries", entries_path, class: "ml-2 rounded-lg py-3 px-5 bg-gray-100 inline-block font-medium hover:bg-gray-200" %>
  </div>
</div>